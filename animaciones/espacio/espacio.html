<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <div id="fondo" class="espacio">
        <div class="neptuno">
            <img src="img/neptuno.png" alt="Planeta neptuno">
        </div>
        <div class="circuloAsteroides">
            <img src="img/asteroidesCirculo.png" alt="Círculo de asteroides">
        </div>
        <div class="marte">
            <img src="img/marte.png" alt="Planeta marte">
        </div>
        <div class="satelite">
            <img src="img/satelite.png" alt="Satélite">
        </div>
        <div class="meteorito">
            <img src="img/meteorito.gif" alt="Meteorito">
        </div>
        <div class="naveEspacial1">
            <img src="img/naveEspacial1.png" alt="Primera nave espacial">
        </div>
        <div class="naveEspacial2">
            <img src="img/naveEspacial2.png" alt="Segunda nave espacial">
            <div class="laser">
                <img src="img/laser.gif" alt="">
            </div>
        </div>
        <div class="naveFondo"></div>
        <div class="palanca1">
            <img src="img/palanca1.png" alt="Palanca 1" />
        </div>
        <div class="palanca2">
            <img src="img/palanca2.png" alt="Palanca 2" />
        </div>
        <audio id="audioViajeEspacio">
            <source src="audio/viajeEspacio.mp3" type="audio/mp3">
        </audio>
    </div>

    <audio id="audio" autoplay loop>
        <source src="audio/naveInterior.mp3" type="audio/mp3">
    </audio>
    <audio id="audioMeteorito">
        <source src="audio/meteorito.mp3" type="audio/mp3">
    </audio>
    <audio id="audioLaser">
        <source src="audio/laser.mp3" type="audio/mp3">
    </audio>

    <script>
        window.addEventListener('load', () => {
            const audioLaser = document.getElementById('audioLaser');

            setTimeout(() => {
                audioLaser.play();
            }, 2000);
        });

        const palanca2 = document.querySelector('.palanca2 img');
        const fondo = document.getElementById('fondo');
        const elementos = document.querySelectorAll('.neptuno, .circuloAsteroides, .marte, .satelite, .meteorito, .naveEspacial1, .naveEspacial2');
        const audioViajeEspacio = document.getElementById('audioViajeEspacio');

        let audioReproduciendo = false;

        function activarTunel() {
            fondo.classList.remove('espacio');
            fondo.classList.add('tunel');
            elementos.forEach(elemento => {
                elemento.style.display = 'none';
            });
            if (!audioReproduciendo) {
                audioViajeEspacio.play();
                audioReproduciendo = true;
            }
        }

        function volverAlEspacio() {
            fondo.classList.remove('tunel');
            fondo.classList.add('espacio');
            elementos.forEach(elemento => {
                elemento.style.display = 'block';
            });
            if (audioReproduciendo) {
                audioViajeEspacio.pause();
                audioViajeEspacio.currentTime = 0;
                audioReproduciendo = false;
            }
        }

        palanca2.addEventListener('click', () => {
            if (fondo.classList.contains('tunel')) {
                volverAlEspacio();
            } else {
                activarTunel();
            }
        });
    </script>

</body>

</html>
